<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 44个Javascript变态题解析 · Hexo</title><meta name="description" content="原题来自: http://javascript-puzzlers.herokuapp.com/
读者可以先去做一下感受感受. 当初笔者的成绩是 21/44…
当初笔者做这套题的时候不仅怀疑智商, 连人生都开始怀疑了….
不过, 对于基础知识的理解是深入编程的前提. 让我们一起来看看这些变态题到底变态不变态吧!

第1题1[1,2,&lt;span class=&quot;n"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="https://github.com/runlijs" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">44个Javascript变态题解析</h1><div class="post-meta"><div class="post-time">Feb 28, 2017</div></div><div class="post-content"><p>原题来自: <a href="http://javascript-puzzlers.herokuapp.com/" target="_blank" rel="external">http://javascript-puzzlers.herokuapp.com/</a></p>
<p>读者可以先去做一下感受感受. 当初笔者的成绩是 21/44…</p>
<p>当初笔者做这套题的时候不仅怀疑智商, 连人生都开始怀疑了….</p>
<p>不过, 对于基础知识的理解是深入编程的前提. 让我们一起来看看这些变态题到底变态不变态吧!</p>
<a id="more"></a>
<h1 id="u7B2C1_u9898"><a href="#u7B2C1_u9898" class="headerlink" title="第1题"></a>第1题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="built_in">parseInt</span>)</span><br></pre></td></tr></table></figure>
<p>首先, map接受两个参数, 一个回调函数 callback, 一个回调函数的this值</p>
<p>其中回调函数接受三个参数 currentValue, index, arrary;</p>
<p>而题目中, map只传入了回调函数–parseInt.</p>
<p>其次, parseInt 只接受两个两个参数 string, radix(基数).</p>
<div class="tip"><br>可选。表示要解析的数字的基数。该值介于 2 ~ 36 之间。<br><br>如果省略该参数或其值为 0，则数字将以 10 为基础来解析。如果它以 “0x” 或 “0X” 开头，将以 16 为基数。<br><br>如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。<br></div>

<p>所以本题即问</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>首先后两者参数不合法.</p>
<p>所以答案是 [1, NaN, NaN]</p>
<h1 id="u7B2C2_u9898"><a href="#u7B2C2_u9898" class="headerlink" title="第2题"></a>第2题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">typeof</span> <span class="literal">null</span>, <span class="literal">null</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>]</span><br></pre></td></tr></table></figure>
<p>typeof 返回一个表示类型的字符串.</p>
<p>instanceof 运算符用来检测 constructor.prototype 是否存在于参数 object 的原型链上.</p>
<p>这个题可以直接看链接… 因为 typeof null === ‘object’ 自语言之初就是这样….</p>
<table>
<thead>
<tr>
<th>type</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Undefined</td>
<td>‘undefined’</td>
</tr>
<tr>
<td>null</td>
<td>‘object’</td>
</tr>
<tr>
<td>boolean</td>
<td>‘boolean’</td>
</tr>
<tr>
<td>Number</td>
<td>‘number’</td>
</tr>
<tr>
<td>String</td>
<td>‘string’</td>
</tr>
<tr>
<td>Symbol</td>
<td>‘symbol’</td>
</tr>
<tr>
<td>Function</td>
<td>‘function’</td>
</tr>
<tr>
<td>Object</td>
<td>‘object’</td>
</tr>
</tbody>
</table>
<p>答案就是[object,false]</p>
<h1 id="u7B2C3_u9898"><a href="#u7B2C3_u9898" class="headerlink" title="第3题"></a>第3题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>].reduce(<span class="built_in">Math</span>.pow),[].reduce(<span class="built_in">Math</span>.pow)]</span><br></pre></td></tr></table></figure>
<p>arr.reduce(callback[, initialValue])</p>
<p>reduce接受两个参数, 一个回调, 一个初始值.</p>
<p>回调函数接受四个参数 previousValue, currentValue, currentIndex, array</p>
<p>需要注意的是 If the array is empty and no initialValue was provided, TypeError would be thrown.</p>
<p>所以第二个表达式会报异常. 第一个表达式等价于 Math.pow(3, 2) =&gt; 9; Math.pow(9, 1) =&gt;9</p>
<p>答案是 [9,erroe]</p>
<h1 id="u7B2C4_u9898"><a href="#u7B2C4_u9898" class="headerlink" title="第4题"></a>第4题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val  = <span class="string">'st'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Value is '</span>+(val===<span class="string">'st'</span>) ? <span class="string">"Something"</span>:<span class="string">"Nothing"</span>)</span><br></pre></td></tr></table></figure>
<p>简而言之+号优先级大?号</p>
<p>本题主要讲的是符号的优先级，<br>()括号大玩+号大于?号</p>
<p>所以原题等价于 ‘Value is true’ ? ‘Somthing’ : ‘Nonthing’ 而不是 ‘Value is’ + (true ? ‘Something’ : ‘Nonthing’)</p>
<p>答案 ‘Something’</p>
<p>如果把上题改一下,答案会是什么呢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="string">'st'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Value is "</span>+ (val===<span class="string">'st'</span> ? <span class="string">"Something"</span>:<span class="string">"Nothing"</span>) )</span><br></pre></td></tr></table></figure>
<h1 id="u7B2C5_u9898"><a href="#u7B2C5_u9898" class="headerlink" title="第5题"></a>第5题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'World'</span></span><br><span class="line"><span class="comment">// 原题是没有前页的加号</span></span><br><span class="line"><span class="comment">// 不加的话在chrome 控制台会报错</span></span><br><span class="line">+(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> name === <span class="string">'undefined'</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">'Jack'</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Goodbye "</span>+name)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello "</span>+name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>在 JavaScript中， functions 和 variables 会被提升。变量提升是JavaScript将声明移至作用域 scope (全局域或者当前函数作用域) 顶部的行为。</p>
<p>这个题目相当于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'World'</span></span><br><span class="line">+(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> name === <span class="string">'undefined'</span>)&#123;</span><br><span class="line">    name = <span class="string">'Jack'</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Goodbye "</span>+name)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello "</span>+name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>所以答案是 ‘Goodbye Jack’</p>
<h1 id="u7B2C6_u9898"><a href="#u7B2C6_u9898" class="headerlink" title="第6题"></a>第6题</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> END = <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)</span><br><span class="line"><span class="keyword">var</span> START = END - <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=START;i&lt;=END;i++)&#123;</span><br><span class="line">  count++</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(count)</span><br></pre></td></tr></table></figure>
<p>在 JS 里, Math.pow(2, 53) == 9007199254740992 是可以表示的最大值. 最大值加一还是最大值. 所以循环不会停.</p>
</div></article></div></section><footer><div class="paginator"><a href="/2017/03/15/mongodb常用命令之查询运算符/" class="prev">上一篇</a><a href="/2017/02/16/mongodb常用命令之增查改删/" class="next">下一篇</a></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?a36e15d9e2adec9a21fcdd9f686b1ed2";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>